<xml xmlns="https://developers.google.com/blockly/xml"><block type="mind_set" id="vSz(2lnvO]ZDr_.d*UNz" x="-165" y="-528"><field name="DEST">IDENTIFIER</field><value name="VALUE"><shadow type="var_block_text" id="~6MYAx;cY;e0e;:w^*E~"><field name="VALUE">412344</field></shadow></value><next><block type="procedures_callnoreturn" id="04z_D{1GVqg)yYLUKr3F"><mutation name="main"></mutation><next><block type="mind_flush_print" id="`NZ5/qWr~#/1;A4$9BA!"><field name="VAR">message1</field><next><block type="mind_end" id="mcb_m;6EJg9jwGR8[D=I"></block></next></block></next></block></next></block><block type="procedures_defreturn" id="2Qq*n[v2S1Arbi{Q{$p{" x="463" y="-409"><field name="NAME">findBoundPoly</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="loop_repeat_i" id="Pt5p~(#H{xC8M~B(G?Ra"><field name="VAR">i</field><value name="TIMES"><shadow type="var_block_text" id="w4U7/]-klYr?3b|Yr]3O"><field name="VALUE">100</field></shadow></value><statement name="BODY"><block type="mind_unit_bind" id="~$uN3DT;E*Lm79dIryor"><value name="UNIT"><shadow type="global_unit" id="j3%RV`~I;,%u,Y.H*|p?"><field name="NAME">@poly</field></shadow></value><next><block type="mind_sensor" id="[wS*a(;cUmiI_2Xol@H_"><field name="DEST">_unitFlag</field><value name="FIELD"><shadow type="var_block_text" id="h/M9QN_{mYt3a.D4(B{]"><field name="VALUE">@flag</field></shadow></value><value name="UNIT"><shadow type="var_block_text" id="!:snlIWtVb!Hy;h[Dgr9"><field name="VALUE">@unit</field></shadow></value><next><block type="procedures_ifreturn" id="6[?8+4a2yoBEM0bjIXW~"><mutation value="1"></mutation><value name="CONDITION"><block type="mind_op_var_binary" id="~7T_o#e@/pR1XxQ#8M{j"><field name="OPERATOR">equal</field><value name="A"><shadow type="var_block_text" id="Ny`jS2Aw:tNOT3l1XA||"><field name="VALUE">bank1</field></shadow><block type="mind_op_var_binary" id="kCfHSlR5cBlpCjCz{ED0"><field name="OPERATOR">shr</field><value name="A"><shadow type="var_block_text" id="buihZ9:EV3(i?=BUDaSk"><field name="VALUE">_unitFlag</field></shadow></value><value name="B"><shadow type="var_block_text" id="7~w9UFtU/Cr|ZMNpaNzZ"><field name="VALUE">32</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="6}Ak0H3|a{06Ow^-Nsyz"><field name="VALUE">IDENTIFIER</field></shadow></value></block></value><value name="VALUE"><block type="var_block_text" id="vu9I/4}BHBlEQ5C*8k}S"><field name="VALUE">true</field></block></value></block></next></block></next></block></statement></block></statement><value name="RETURN"><block type="var_block_text" id="m^Q)p@5f@y+a4G:VA!-0"><field name="VALUE">false</field></block></value></block><block type="procedures_defnoreturn" id="u_J@yQefGkS8;0,3,F$7" x="-170" y="-345"><field name="NAME">main</field><comment pinned="false" h="122" w="472">main function --
if there's a memory bank attached this will bind that bank to a poly by encoding its position into the poly's flag

if there's no memory bank attached, this will
attempt to find a poly with the right identifier and extract the bank's position from it</comment><statement name="STACK"><block type="controls_if" id="~l8_~7vIZ1u!gNICNM?^"><mutation else="1"></mutation><value name="IF0"><block type="mind_op_var_binary" id="h:-Dvr#JbTm/S:msC{|H"><field name="OPERATOR">notEqual</field><value name="A"><shadow type="var_block_text" id="~bq#5%6P@gA7jk)iu@!*"><field name="VALUE">bank1</field></shadow></value><value name="B"><shadow type="var_block_text" id="ieq)vEsCO#d)}{KBo8g="><field name="VALUE">null</field></shadow></value></block></value><statement name="DO0"><block type="controls_if" id="Ufz=3j8Mdg%V{`V_G8UG"><mutation else="1"></mutation><value name="IF0"><block type="procedures_callreturn" id="c7t.9.Y@)G*._:`27H0f"><mutation name="bindMemoryBank"></mutation></block></value><statement name="DO0"><block type="mind_print_text" id="Hy3[Ng-/FTkdwJCY%JOH"><value name="TEXT"><shadow type="var_block_text" id="s~YOT`P$Z[(dJ:2?AeM5"><field name="VALUE">"set flag to {_encodedFlag}\n"</field></shadow></value></block></statement><statement name="ELSE"><block type="mind_print_text" id="7B{lc#|,R=/AQkL,nE[I"><value name="TEXT"><shadow type="var_block_text" id=":1:;R*iBt8W`cNNK8m@2"><field name="VALUE">"bank bound as {_unitFlag}\n"</field></shadow></value></block></statement></block></statement><statement name="ELSE"><block type="mind_set" id="@B9|Jh2}x2ni9x[YvH^_"><field name="DEST">bank</field><value name="VALUE"><shadow type="var_block_text" id="zH,/*%QM-_GQ@w)=#]jc"><field name="VALUE">0</field></shadow><block type="procedures_callreturn" id="Dnm8hm@)c6O@AGGf5oQI"><mutation name="findMemoryBank"></mutation></block></value><next><block type="controls_if" id="T-}Z)M7WgLC3#=Y.+j|c"><mutation else="1"></mutation><value name="IF0"><block type="mind_op_var_binary" id="+qp(=nFX8|Go^F}VnoM)"><field name="OPERATOR">equal</field><value name="A"><shadow type="var_block_text" id="mZRZyAnobLV#%{^|DGxB"><field name="VALUE">bank</field></shadow></value><value name="B"><shadow type="var_block_text" id="Un`Qx5H@YY~#]i_+]Zy@"><field name="VALUE">null</field></shadow></value></block></value><statement name="DO0"><block type="mind_print_text" id="(HLEUr3/qPda%gntK`wT"><value name="TEXT"><shadow type="var_block_text" id="$}merlC5db_{=i#SM[@!"><field name="VALUE">"no bank found\n"</field></shadow></value></block></statement><statement name="ELSE"><block type="mind_print_text" id="xeulo_gu`x1+Bl~/SWsK"><value name="TEXT"><shadow type="var_block_text" id="Yd5/-eKe9h{RW%2nQ!fY"><field name="VALUE">"found bank: {_unitFlag}\n"</field></shadow></value><next><block type="mind_print_text" id="c)~a#k;;iy]e7IS}4[W#"><value name="TEXT"><shadow type="var_block_text" id="n+bh1yMR}Hm-KCryK*(X"><field name="VALUE">"{bank} @ {_bankX}, {_bankY}\n"</field></shadow></value></block></next></block></statement></block></next></block></statement></block></statement></block><block type="procedures_defreturn" id="=7*2JM!cVuo0!{T7a}y2" x="463" y="-110"><field name="NAME">findMemoryBank</field><comment pinned="false" h="80" w="160">Describe this function...</comment><statement name="STACK"><block type="procedures_ifreturn" id="alPHrEe|1j:g=fJ_L0]d"><mutation value="1"></mutation><value name="CONDITION"><block type="mind_op_var_binary" id="sz}2Qws!Vwpg]`|+0+)4"><field name="OPERATOR">notEqual</field><value name="A"><shadow type="var_block_text" id="$(S1fNrAyg|]V:_3ZreT"><field name="VALUE">isBound</field></shadow><block type="procedures_callreturn" id="wJ{^72(VKQ8ISjU*;0RX"><mutation name="findBoundPoly"></mutation></block></value><value name="B"><shadow type="var_block_text" id="yiJTY?v!tcR-#qCFy0mi"><field name="VALUE">true</field></shadow></value></block></value><value name="VALUE"><block type="var_block_text" id="KlzG*qQh1ufFO(%AMp%Y"><field name="VALUE">null</field></block></value><next><block type="mind_set" id="czwDNXSWTV}Ss9vHOgq|"><field name="DEST">_bankX</field><value name="VALUE"><shadow type="var_block_text" id="}mk1fO}3zrL/pFDi{uaO"><field name="VALUE">0</field></shadow><block type="mind_op_var_binary" id="^_jFm!(i4;r1++5b`B-n"><field name="OPERATOR">div</field><value name="A"><shadow type="var_block_text" id="zUyHKu,2{]-;|j`(3:%?"><field name="VALUE">flag</field></shadow><block type="mind_op_var_binary" id="qt|+D9fp3qPQ`tB;!$gA"><field name="OPERATOR">and</field><value name="A"><shadow type="var_block_text" id="}Bb~5MSHDTMc)@b/n~{e"><field name="VALUE">_unitFlag</field></shadow></value><value name="B"><shadow type="var_block_text" id=";Xd^t1$itRU8cBFK]~pg"><field name="VALUE">0xFFFF</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="xfmhQy|yjm:,/U$njJAo"><field name="VALUE">2</field></shadow></value></block></value><next><block type="mind_set" id="ZFyZru.)Tldi(m!?LD8!"><field name="DEST">_bankY</field><value name="VALUE"><shadow type="var_block_text" id="E/hg,gi6fTdX^3le-aYa"><field name="VALUE">0</field></shadow><block type="mind_op_var_binary" id="aw_)tno/3s3*vzDl90d6"><field name="OPERATOR">div</field><value name="A"><shadow type="var_block_text" id="|#:E6$+$0a-VH/,V)xWa"><field name="VALUE">flag</field></shadow><block type="mind_op_var_binary" id="9=jbDKfn;l-hI[_i*[cB"><field name="OPERATOR">and</field><value name="A"><shadow type="var_block_text" id="9Xk?2aDyh;j0mq_*ij#_"><field name="VALUE">_unitFlag</field></shadow><block type="mind_op_var_binary" id="%w$1)LZ!kz*7Pl:KD!qG"><field name="OPERATOR">shr</field><value name="A"><shadow type="var_block_text" id="P74TC9W7dyQkp4X|kVN2"><field name="VALUE">_unitFlag</field></shadow></value><value name="B"><shadow type="var_block_text" id="tM}ekFEe_=t!gj9C`4{v"><field name="VALUE">16</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="yu~%G#OJ3{ED$ez78R4n"><field name="VALUE">0xFFFF</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="fqb[bc6=;I_+dA!A;8GY"><field name="VALUE">2</field></shadow></value></block></value><next><block type="mind_unit_control_getBlock" id="mr]^Y_5s}zz;y#[IXag?"><value name="x"><shadow type="var_block_text" id="dO,#L:rs9t78G4?*i{eH"><field name="VALUE">_bankX</field></shadow></value><value name="y"><shadow type="var_block_text" id="M89-P7dF7:|jmpN{vlv["><field name="VALUE">_bankY</field></shadow></value><value name="type"><shadow type="var_block_text" id="QD(If%eMZsk#P0]*27#x"><field name="VALUE">@bank</field></shadow></value><value name="building"><shadow type="var_block_text" id="7h%l.phga#^2B$dg77UG"><field name="VALUE">_foundBank</field></shadow></value></block></next></block></next></block></next></block></statement><value name="RETURN"><block type="var_block_text" id="=mnxw/_$dU3VAB;,?!O|"><field name="VALUE">_foundBank</field></block></value></block><block type="procedures_defreturn" id="65mDkp1@CdJ1Xdy*b4;M" x="-172" y="125"><field name="NAME">bindMemoryBank</field><comment pinned="false" h="52" w="375">encode a bank's position into the unit's flag
</comment><statement name="STACK"><block type="procedures_ifreturn" id="P|EA9K:o5`A{JH(*?Pf@"><mutation value="1"></mutation><value name="CONDITION"><block type="procedures_callreturn" id="F#s(-2#UT8#a?8UHHu$="><mutation name="findBoundPoly"></mutation></block></value><value name="VALUE"><block type="var_block_text" id="i|)o}@LfBf1$j6j]CvO="><field name="VALUE">true</field></block></value><next><block type="mind_set" id="ZQ#{NjIR$e+U5$c,V0ix"><field name="DEST">_encodedY</field><value name="VALUE"><shadow type="var_block_text" id="2h::;w^0iYpFc{#Q]pE3"><field name="VALUE">0</field></shadow><block type="mind_op_var_binary" id="B)SN1;=;`cG]/TJ.(#k,"><field name="OPERATOR">shl</field><value name="A"><shadow type="var_block_text" id="H^lmpbD2X#9YigWO]2j8"><field name="VALUE">a</field></shadow><block type="mind_op_var_unary" id="o(k02#s!taSKB`]3lC,E"><field name="OPERATOR">floor</field><value name="A"><shadow type="var_block_text" id="OcJnK7ePeM$^cJ,%L#47"><field name="VALUE">a</field></shadow><block type="mind_op_var_binary" id="BPY7t}y~w/.`-+v;}t)f"><field name="OPERATOR">mul</field><value name="A"><shadow type="var_block_text" id="WaAx.Q71!2R|Z=41L:tZ"><field name="VALUE">a</field></shadow><block type="mind_sensor_val" id="o#tr{p4/_?4_(1kRStJc"><value name="FIELD"><shadow type="var_block_text" id="gjj?Kmv3W)TY:3s$2]w3"><field name="VALUE">@y</field></shadow></value><value name="UNIT"><shadow type="var_block_text" id="bU;U%OjwLpb!MI39B|1/"><field name="VALUE">bank1</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="BhUIIFA[eVq]|(Eat^b{"><field name="VALUE">2</field></shadow></value></block></value></block></value><value name="B"><shadow type="var_block_text" id=":d}f,:5eQ3ODM9aq$=EZ"><field name="VALUE">16</field></shadow></value></block></value><next><block type="mind_set" id="KI2o!zoQ,$TMJ|zESziX"><field name="DEST">_encodedX</field><value name="VALUE"><shadow type="var_block_text" id="$g?AzL`!u5Wc0!w!`0Ew"><field name="VALUE">0</field></shadow><block type="mind_op_var_unary" id="z3X.V6wrUE*c{t-0UfBd"><field name="OPERATOR">floor</field><value name="A"><shadow type="var_block_text" id="npS]vqV^tYWZmTTOy`pT"><field name="VALUE">a</field></shadow><block type="mind_op_var_binary" id="9sfhHg8$I6/FrIv#SO2p"><field name="OPERATOR">mul</field><value name="A"><shadow type="var_block_text" id="0wXjPm{iU|VT{:XEab9h"><field name="VALUE">a</field></shadow><block type="mind_sensor_val" id="3!tCfQW.%L}.g|b$9Ge%"><value name="FIELD"><shadow type="var_block_text" id="}%%k|T-`fZ%eO@A([/dZ"><field name="VALUE">@x</field></shadow></value><value name="UNIT"><shadow type="var_block_text" id="dJhm5|#oxUJUI;$A2_E5"><field name="VALUE">bank1</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="WOh^i]kmW#UrTd(HYeeb"><field name="VALUE">2</field></shadow></value></block></value></block></value><next><block type="mind_op_set_binary" id="Eadg.-jv8es7m`C(!sSr"><field name="DEST">_encodedFlag</field><field name="OPERATOR">or</field><value name="A"><shadow type="var_block_text" id="VvueEvwmgZtztL3-!bkS"><field name="VALUE">_encodedFlag</field></shadow><block type="mind_op_var_binary" id="3lCK)[!temX4;jhaemH*"><field name="OPERATOR">or</field><value name="A"><shadow type="var_block_text" id="z!3Ybjrb@3x8:JQ]JEju"><field name="VALUE">_encodedY</field></shadow></value><value name="B"><shadow type="var_block_text" id="S/]o3L7qr_TFjP){$D)6"><field name="VALUE">_encodedX</field></shadow></value></block></value><value name="B"><shadow type="var_block_text" id="+MZ!,}G1:v3+M;b`5NSS"><field name="VALUE">b</field></shadow><block type="mind_op_var_binary" id="A]e0_yrlvw+4BS`$o_g."><field name="OPERATOR">shl</field><value name="A"><shadow type="var_block_text" id="WlF4m(+rRFaP%[+ftwWb"><field name="VALUE">IDENTIFIER</field></shadow></value><value name="B"><shadow type="var_block_text" id="$Lr*RAatsGl7#}2[|JXi"><field name="VALUE">32</field></shadow></value></block></value><next><block type="mind_unit_control_flag" id="n/x$7:h(:E#$bZB0Qu64"><value name="value"><shadow type="var_block_text" id="swvZx@J:y~kqh0*e,iYc"><field name="VALUE">_encodedFlag</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><value name="RETURN"><block type="var_block_text" id="xK%vyvY@C,:Gs-(=}}O."><field name="VALUE">true</field></block></value></block></xml>